{% extends "base.html" %}

{% block title %}Dashboard - UNIR App{% endblock %}

{% block head %}
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek,listWeek'
            },
            locale: 'es',
            buttonText: {
                today: 'Hoy',
                month: 'Mes',
                week: 'Semana',
                list: 'Lista'
            },
            events: {{ events | tojson }},
        height: 'auto',
        aspectRatio: 1.8,
        eventBackgroundColor: '#3b82f6',
        eventBorderColor: '#2563eb',
        eventClassNames: 'shadow-sm rounded opacity-90 hover:opacity-100 transition-opacity'
        });
    calendar.render();
    });
</script>
<style>
    /* Customize FullCalendar to match Tailwind */
    .fc-toolbar-title {
        font-size: 1.25rem !important;
        font-weight: 600 !important;
        color: #1e293b;
    }

    .fc-button-primary {
        background-color: white !important;
        color: #475569 !important;
        border-color: #e2e8f0 !important;
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
        font-weight: 500 !important;
    }

    .fc-button-primary:hover {
        background-color: #f8fafc !important;
        color: #1e293b !important;
    }

    .fc-button-active {
        background-color: #eff6ff !important;
        color: #2563eb !important;
        border-color: #bfdbfe !important;
    }

    .fc-daygrid-day-number {
        color: #64748b;
        font-weight: 500;
        text-decoration: none !important;
    }

    .fc-col-header-cell-cushion {
        color: #64748b;
        font-weight: 600;
        text-decoration: none !important;
        text-transform: uppercase;
        font-size: 0.75rem;
        letter-spacing: 0.05em;
    }
</style>
{% endblock %}

{% block content %}
<div class="mb-8">
    <h1 class="text-3xl font-bold text-slate-900 tracking-tight">Hola, estudiante ðŸ‘‹</h1>
    <p class="mt-2 text-slate-500 text-lg">AquÃ­ tienes el resumen de tu actividad acadÃ©mica.</p>
</div>

<!-- Stats Overview -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
    <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 flex items-center justify-between">
        <div>
            <p class="text-sm font-medium text-slate-500 uppercase tracking-widest">Eventos</p>
            <p class="text-3xl font-bold text-slate-800 mt-1">{{ events|length }}</p>
        </div>
        <div class="p-4 bg-brand-50 rounded-xl text-brand-600">
            <i class="fas fa-calendar-check text-2xl"></i>
        </div>
    </div>
    <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 flex items-center justify-between">
        <div>
            <p class="text-sm font-medium text-slate-500 uppercase tracking-widest">Asignaturas</p>
            <p class="text-3xl font-bold text-slate-800 mt-1">{{ subjects_nav|length }}</p>
        </div>
        <div class="p-4 bg-purple-50 rounded-xl text-purple-600">
            <i class="fas fa-book-open text-2xl"></i>
        </div>
    </div>
    <div
        class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 flex items-center justify-between opacity-60">
        <div>
            <p class="text-sm font-medium text-slate-500 uppercase tracking-widest">Pendientes</p>
            <p class="text-3xl font-bold text-slate-800 mt-1">-</p>
        </div>
        <div class="p-4 bg-amber-50 rounded-xl text-amber-600">
            <i class="fas fa-clock text-2xl"></i>
        </div>
    </div>
</div>

<!-- Calendar Section -->
<div class="bg-white rounded-2xl shadow-lg shadow-slate-200/50 border border-slate-100 p-8">
    <div id='calendar'></div>
</div>
{% endblock %}